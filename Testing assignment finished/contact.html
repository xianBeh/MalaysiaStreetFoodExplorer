<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Contact Us</title>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    </head>
    <body>
         <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }
            body {
                line-height: 1.6;
                color: #333;
                background: linear-gradient(135deg, #2b2b2b 0%, #393939 100%);
                min-height: 100vh;
            }
            .container-custom {
                max-width: 800px;
                margin: 0 auto;
                padding: 0 20px;
            }
            .header-section {
                background: rgba(0, 0, 0, 0.1);
                backdrop-filter: blur(10px);
                padding: 60px 0;
                text-align: center;
                border-bottom: 1px solid rgba(0, 0, 0, 0.2);
            }
            .main-title {
                font-size: 4.0rem;
                font-weight: 700;
                color: white;
                margin-top: -40px;
                text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            }
            .subtitle {
                font-size: 0.8rem;
                color: rgba(255, 253, 253, 0.9);
                font-weight: 100;
                max-width: 1000px;
                margin-bottom: -30px;
            }
            /* .social-section {
                background: rgb(255, 255, 255);
                backdrop-filter: blur(10px);
                padding: 40px 0;
                text-align: center;
            } */
            .section-title {
                font-size: 2rem;
                font-weight: 600;
                color: #333;
                margin-bottom: 10px;
            }
            .form-section {
                background: white;
                padding: 60px 0;
            }
            .form-container {
                background: white;
                border-radius: 20px;
                padding: 40px;
                box-shadow: 0 20px 40px rgba(0,0,0,0.1);
                border: 1px solid rgba(255, 255, 255, 0.2);
            }
            .form-row {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 20px;
                margin-bottom: 20px;
            }
            .form-group {
                margin-bottom: 25px;
            }
            .form-group label {
                display: block;
                font-weight: 600;
                color: #555;
                margin-bottom: 8px;
                font-size: 0.95rem;
            }
            .form-group input,
            .form-group select,
            .form-group textarea {
                width: 100%;
                padding: 15px;
                border: 2px solid #e1e5e9;
                border-radius: 10px;
                font-size: 1rem;
                transition: all 0.3s ease;
                background: #fafbfc;
            }
            .form-group input:focus,
            .form-group select:focus,
            .form-group textarea:focus {
                outline: none;
                border-color: #667eea;
                background: white;
                box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            }
            .form-group textarea {
                height: 120px;
                resize: vertical;
            }
            .others-input {
                display: none;
                margin-top: 10px;
            }
            .submit-btn {
                background: linear-gradient(135deg, #030303, #837f87);
                color: white;
                border: none;
                padding: 10px 30px;
                border-radius: 50px;
                font-size: 1.0rem;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s ease;
                box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
                display: flex;
                align-items: center;
                gap: 10px;
                margin: 0 auto;
            }
            .submit-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
            }
            .footer-section {
                background: rgba(0, 0, 0, 0.8);
                color: white;
                text-align: center;
                padding: 10px 0;
            }
            .footer-section p {
                margin: 0;
                opacity: 0.8;
            }
            .error-message {
                color: #dc3545;
                font-size: 0.85rem;
                margin-top: 5px;
                display: none;
            }
            .success-message {
                color: #28a745;
                font-size: 0.85rem;
                margin-top: 5px;
                display: none;
            }
            .input-error {
                border-color: #dc3545 !important;
                background: #fff5f5 !important;
            }
            .input-success {
                border-color: #28a745 !important;
                background: #f8fff8 !important;
            }
            .facebook-timeline-section {
                background: white;
                padding: 60px 0;
                text-align: center;
            }
            .fb-timeline-container {
                margin-top: 30px;
                border-radius: 12px;
                overflow: hidden;
                box-shadow: 0 10px 30px rgba(0,0,0,0.1);
                max-width: 500px;
                margin-left: auto;
                margin-right: auto;
            }
            .fb-timeline-placeholder {
                background: #f0f2f5;
                padding: 40px 20px;
                border-radius: 12px;
                margin: 20px auto;
                max-width: 500px;
                text-align: center;
            }
            .fb-timeline-placeholder i {
                font-size: 40px;
                color: #4267B2;
                margin-bottom: 15px;
            }
            .fb-timeline-placeholder h4 {
                color: #4267B2;
                margin-bottom: 10px;
            }
            .fb-timeline-placeholder p {
                color: #65676B;
                margin-bottom: 20px;
            }
            .view-more-btn {
                display: inline-block;
                background: #4267B2;
                color: white;
                padding: 10px 20px;
                border-radius: 6px;
                text-decoration: none;
                font-weight: 600;
                transition: all 0.3s ease;
            }
            .view-more-btn:hover {
                background: #365899;
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(66, 103, 178, 0.3);
            }

            @media (max-width: 768px) {
                .main-title {
                    font-size: 2.5rem;
                }
                .form-row {
                    grid-template-columns: 1fr;
                }
                .form-container {
                    padding: 30px 20px;
                }
                .fb-timeline-container {
                    max-width: 100%;
                }
            }
                 .fade-in {
                animation: fadeIn 0.6s ease-in;
            }

            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(20px); }
                to { opacity: 1; transform: translateY(0); }
            }
        </style>

        <div class="header-section">
            <div class="container-custom">
                <h1 class="main-title">CONTACT SECTION</h1>
                <p class="subtitle">We'd love to hear from you. Send us a message and we'll respond as soon as possible.</p>
            </div>
        </div>
        <div class="form-section">
            <div class="container-custom">
                <h3 class="section-title">Contact Form</h3>
                <div class="form-container">
                <form onsubmit="submitForm(event)">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="fname">First Name</label>
                                <input type="text" id="fname" name="firstname" required placeholder="Will">
                                <div class="error-message" id="fname-error"></div>
                            </div>
                            <div class="form-group">
                                <label for="lname">Last Name</label>
                                <input type="text" id="lname" name="lastname" required placeholder="Smith">
                                <div class="error-message" id="lname-error"></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" name="email" required placeholder="youremailaddress@gmail.com">
                            <div class="error-message" id="email-error"></div>
                            <div class="success-message" id="email-success"></div>
                        </div>
                        <div class="form-group">
                            <label for="purpose">Purpose</label>
                            <select id="purpose" name="purpose" required onchange="handlePurposeChange()">
                                <option value="">Select a purpose...</option>
                                <option value="Webpage Feedback">Webpage Feedback</option>
                                <option value="Collaboration Purpose">Collaboration Purpose</option>
                                <option value="others">Others</option>
                            </select>
                            <div class="error-message" id="purpose-error"></div>
                        </div>
                        <div class="form-group">
                            <input type="text" id="others" name="others" placeholder="Please specify your purpose..." class="others-input">
                            <div class="error-message" id="others-error"></div>
                        </div>
                        <div class="form-group">
                            <label for="description">Description</label>
                            <textarea id="description" name="description" placeholder="Tell us more about your inquiry..."></textarea>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="submit-btn">
                            <i class="fa fa-paper-plane"></i> Send </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <div class="facebook-timeline-section">
            <div class="container-custom">
                <h3 class="section-title">Connect with Us</h3>
                <p>Stay updated with our latest feeds</p>
                
                <!-- Facebook Page Plugin Timeline -->
                <div class="fb-timeline-container">
                    <div class="fb-page" 
                         data-href="https://www.facebook.com/Everything.About.Penang" 
                         data-tabs="timeline" 
                         data-width="500" 
                         data-height="600" 
                         data-small-header="false" 
                         data-adapt-container-width="true" 
                         data-hide-cover="false" 
                         data-show-facepile="true">
                        <blockquote cite="https://www.facebook.com/Everything.About.Penang" class="fb-xfbml-parse-ignore">
                            <a href="https://www.facebook.com/Everything.About.Penang">Facebook</a>
                        </blockquote>
                    </div>
                </div>
                    <div class="fb-timeline-placeholder" style="display: none;" id="fb-placeholder">
                    <i class="fab fa-facebook"></i>
                    <h4>Connect With Us on Facebook</h4>
                    <p>Follow our page to see the latest updates, events, and news about street food.</p>
                    <a href="https://www.facebook.com/Everything.About.Penang" target="_blank" class="view-more-btn">View Our Facebook Page</a>
                </div>
            </div>
        </div>
        <div class="footer-section">
            <div class="container-custom">
                <p>&copy; 2025 Explore Street Food. All rights reserved.</p>
            </div>
        </div>
    
        <!-- Facebook SDK for JavaScript -->
        <div id="fb-root"></div>
        <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v19.0" nonce="YOUR_NONCE_VALUE"></script>
       
        <script>
            const SESSION_KEY = 'contactFormSubmissions';
            const emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;
            
            document.addEventListener('DOMContentLoaded', function() {
                document.body.classList.add('fade-in');
                document.getElementById('email').addEventListener('input', validateEmailRealTime);
                if (typeof(Storage) !== "undefined") {
                    if (!sessionStorage.getItem(SESSION_KEY)) {
                        sessionStorage.setItem(SESSION_KEY, JSON.stringify([]));
                    }
                }
                setTimeout(checkFacebookWidget, 3000);
            });

            function checkFacebookWidget() {
                const fbIframe = document.querySelector('.fb-page iframe');
                if (!fbIframe || fbIframe.offsetHeight === 0) {
                    document.getElementById('fb-placeholder').style.display = 'block';
                }
            }

            function validateEmailRealTime() {
                const email = document.getElementById('email');
                const errorDiv = document.getElementById('email-error');
                const successDiv = document.getElementById('email-success');
                clearFieldValidation('email');
                if (email.value.trim() === '') {
                    return;
                }
                
                if (emailRegex.test(email.value)) {
                    email.classList.add('input-success');
                    successDiv.textContent = 'Valid email address';
                    successDiv.style.display = 'block';
                } else {
                    email.classList.add('input-error');
                    errorDiv.textContent = 'Please enter a valid email address';
                    errorDiv.style.display = 'block';
                }
            }
            
            function clearFieldValidation(fieldId) {
                const field = document.getElementById(fieldId);
                const errorDiv = document.getElementById(fieldId + '-error');
                const successDiv = document.getElementById(fieldId + '-success');
                field.classList.remove('input-error', 'input-success');
                if (errorDiv) errorDiv.style.display = 'none';
                if (successDiv) successDiv.style.display = 'none';
            }
        
            function showFieldError(fieldId, message) {
                const field = document.getElementById(fieldId);
                const errorDiv = document.getElementById(fieldId + '-error');
                field.classList.add('input-error');
                errorDiv.textContent = message;
                errorDiv.style.display = 'block';
            }

            function validateForm() {
                let isValid = true;
                
                ['fname', 'lname', 'email', 'purpose', 'others'].forEach(id => {
                    clearFieldValidation(id);
                });
                const fname = document.getElementById('fname').value.trim();
                if (!fname) {
                    showFieldError('fname', 'First name is required');
                    isValid = false;
                } else if (fname.length < 2) {
                    showFieldError('fname', 'First name must be at least 2 characters');
                    isValid = false;
                }
                const lname = document.getElementById('lname').value.trim();
                if (!lname) {
                    showFieldError('lname', 'Last name is required');
                    isValid = false;
                } else if (lname.length < 2) {
                    showFieldError('lname', 'Last name must be at least 2 characters');
                    isValid = false;
                }
                const email = document.getElementById('email').value.trim();
                if (!email) {
                    showFieldError('email', 'Email address is required');
                    isValid = false;
                } else if (!emailRegex.test(email)) {
                    showFieldError('email', 'Please enter a valid email address (e.g., user@domain.com)');
                    isValid = false;
                }
                const purpose = document.getElementById('purpose').value;
                if (!purpose) {
                    showFieldError('purpose', 'Please select a purpose');
                    isValid = false;
                }
                if (purpose === 'others') {
                    const others = document.getElementById('others').value.trim();
                    if (!others) {
                        showFieldError('others', 'Please specify your purpose');
                        isValid = false;
                    }
                }
                return isValid;
            }
            
            function submitForm(e) {
                e.preventDefault();
                if (!validateForm()) {
                alert('Please Fill In All The Blank.');
            return;}
                
                const formData = {
                    firstName: document.getElementById('fname').value.trim(),
                    lastName: document.getElementById('lname').value.trim(),
                    email: document.getElementById('email').value.trim(),
                    purpose: document.getElementById('purpose').value,
                    others: document.getElementById('others').value.trim(),
                    description: document.getElementById('description').value.trim(),
                    timestamp: new Date().toISOString(),
                    submittedAt: new Date().toLocaleString()
                };
                
                const finalPurpose = formData.purpose === 'others' ? formData.others : formData.purpose;
                saveToSession(formData);
                alert('Form submitted successfully!\n\n' +
                      'Name: ' + formData.firstName + ' ' + formData.lastName + '\n' +
                      'Email: ' + formData.email + '\n' +
                      'Purpose: ' + finalPurpose + '\n' +
                      'Description: ' + (formData.description || 'No description provided') + '\n' +
                      'Submitted: ' + formData.submittedAt);
                document.querySelector('form').reset();
                document.getElementById('others').style.display = 'none';
                ['fname', 'lname', 'email', 'purpose', 'others'].forEach(id => {
                    clearFieldValidation(id);
                });
            }
    
            function saveToSession(formData) {
                if (typeof(Storage) === "undefined") {
                    console.warn('Web storage not supported');
                    return false;
                }
                let existingData = JSON.parse(sessionStorage.getItem(SESSION_KEY) || '[]');
                existingData.unshift(formData);
                if (existingData.length > 10) {
                    existingData = existingData.slice(0, 10);
                }
                sessionStorage.setItem(SESSION_KEY, JSON.stringify(existingData));
                const timestampKey = `submission_${Date.now()}`;
                sessionStorage.setItem(timestampKey, JSON.stringify({
                    name: `${formData.firstName} ${formData.lastName}`,
                    email: formData.email,
                    purpose: formData.purpose === 'others' ? formData.others : formData.purpose,
                    description: formData.description || 'No description provided',
                    submittedAt: formData.submittedAt
                }));
                console.log('Data saved to sessionStorage:', formData);
                return true;
            }

            function handlePurposeChange() {
                const purposeSelect = document.getElementById('purpose');
                const othersInput = document.getElementById('others');
                clearFieldValidation('purpose');
                clearFieldValidation('others');
                if (purposeSelect.value === 'others') {
                    othersInput.style.display = 'block';
                    othersInput.focus();
                } else {
                    othersInput.style.display = 'none';
                    othersInput.value = '';
                } 
            }
        </script>
    </body>
</html>